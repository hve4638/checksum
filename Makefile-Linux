CC=g++
TAGS=-D__LINUX
CFLAGS=-g -Wall -lcrypto
OBJS=main.o checksum.o cargs.o checksum-hash.o
TARGET=checksum

all: $(TARGET)
$(TARGET): $(OBJS)
	$(CC) -o $(TARGET) $(OBJS) $(CFLAGS)

main.o: main.cpp checksum.h cargs.h
checksum.o: checksum.cpp checksum.h
checksum-hash.o: checksum-hash.cpp checksum.h
	$(CC) -c -o $@ checksum-hash.cpp $(TAGS)
cargs.o: cargs.c cargs.h

clean:
	rm *.o
	rm $(TARGET)
